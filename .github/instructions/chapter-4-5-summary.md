# Chapter 4-5 å®Œæˆæ€»ç»“

## ğŸ“Š å†…å®¹ç»Ÿè®¡

### Chapter 4: Datasets åº“ä¸æ•°æ®é¢„å¤„ç†
- **å­—æ•°**: ~18,000 å­—
- **ä»£ç ç¤ºä¾‹**: 70+ ä¸ªå®Œæ•´å¯è¿è¡Œç¤ºä¾‹
- **äº¤äº’å¼ç»„ä»¶**: 2 ä¸ª
  - DatasetPipeline - æ•°æ®å¤„ç†æµç¨‹å¯è§†åŒ–
  - DataCollatorDemo - Padding ç­–ç•¥å¯¹æ¯”

**æ ¸å¿ƒç« èŠ‚**:
1. Datasets åº“åŸºç¡€ (å†…å­˜æ˜ å°„ã€é›¶æ‹·è´ã€æ€§èƒ½å¯¹æ¯”)
2. æ•°æ®é›†æ“ä½œ (map/filter/select/shuffle/train_test_split)
3. Tokenization é›†æˆ (æ‰¹é‡å¤„ç†ã€å¤šè¿›ç¨‹åŠ é€Ÿ)
4. DataCollator å®¶æ— (WithPadding/ForLanguageModeling/ForSeq2Seq/è‡ªå®šä¹‰)
5. æµå¼æ•°æ®é›† (IterableDatasetã€ç¼“å†²åŒº shuffle)
6. è‡ªå®šä¹‰æ•°æ®é›† (CSV/JSON åŠ è½½ã€ä¸Šä¼ åˆ° Hub)

### Chapter 5: Trainer API å®Œæ•´æŒ‡å—
- **å­—æ•°**: ~20,000 å­—
- **ä»£ç ç¤ºä¾‹**: 80+ ä¸ªå®Œæ•´å¯è¿è¡Œç¤ºä¾‹
- **äº¤äº’å¼ç»„ä»¶**: 7 ä¸ª
  - TrainingLoopVisualizer - è®­ç»ƒå¾ªç¯æµç¨‹åŠ¨ç”»
  - TrainingArgumentsExplorer - 100+ å‚æ•°åˆ†ç±»æµè§ˆ
  - MixedPrecisionComparison - FP32/FP16/BF16 æ€§èƒ½å¯¹æ¯”
  - TrainingStepBreakdown - å•æ­¥è®­ç»ƒè¯¦ç»†åˆ†è§£
  - CallbackFlow - å›è°ƒå‡½æ•°ç”Ÿå‘½å‘¨æœŸ
  - LearningRateScheduler - å­¦ä¹ ç‡è°ƒåº¦ç­–ç•¥æ›²çº¿
  - TrainingMetricsPlot - è®­ç»ƒæŒ‡æ ‡å®æ—¶å›¾è¡¨

**æ ¸å¿ƒç« èŠ‚**:
1. Trainer æ ¸å¿ƒæ¦‚å¿µ (vs ä¼ ç»Ÿ PyTorchã€è‡ªåŠ¨åŒ–åŠŸèƒ½)
2. TrainingArguments å‚æ•°è¯¦è§£ (åŸºç¡€/ä¼˜åŒ–/è¯„ä¼°/æ—¥å¿—/åˆ†å¸ƒå¼)
3. è®­ç»ƒå¾ªç¯è¯¦è§£ (è‡ªå®šä¹‰ training_step/compute_loss/evaluation_loop)
4. è¯„ä¼°æŒ‡æ ‡ (åˆ†ç±»/NER/QA/æ–‡æœ¬ç”Ÿæˆã€è‡ªå®šä¹‰å¤æ‚æŒ‡æ ‡)
5. å›è°ƒå‡½æ•° (å†…ç½®å›è°ƒã€è‡ªå®šä¹‰å›è°ƒã€æ‰§è¡Œé¡ºåº)
6. ä¼˜åŒ–å™¨ä¸å­¦ä¹ ç‡è°ƒåº¦ (å±‚çº§å­¦ä¹ ç‡ã€è‡ªå®šä¹‰è°ƒåº¦å™¨)
7. é«˜çº§è®­ç»ƒæŠ€å·§ (æ¢¯åº¦ç´¯ç§¯ã€æ¢¯åº¦æ£€æŸ¥ç‚¹ã€æ¨¡å‹å¹¶è¡Œã€8-bit/4-bit è®­ç»ƒ)
8. å®æˆ˜æ¡ˆä¾‹ (æƒ…æ„Ÿåˆ†ç±»å®Œæ•´æµç¨‹ã€å¤š GPU è®­ç»ƒ)

## ğŸ¨ äº¤äº’å¼ç»„ä»¶è¯¦æƒ…

### 1. DatasetPipeline
**æ–‡ä»¶**: `/components/interactive/DatasetPipeline.tsx`  
**åŠŸèƒ½**: 
- 5 æ­¥æ•°æ®å¤„ç†æµç¨‹åŠ¨ç”» (load â†’ map â†’ filter â†’ shuffle â†’ format)
- æ’­æ”¾æŒ‰é’®æ§åˆ¶è‡ªåŠ¨æµç¨‹
- æ¯æ­¥æ˜¾ç¤ºä»£ç  + è¾“å‡º
- å®æ—¶ç»Ÿè®¡ (æ­¥éª¤æ•°/å†…å­˜å ç”¨/å¤„ç†é€Ÿåº¦)

### 2. DataCollatorDemo
**æ–‡ä»¶**: `/components/interactive/DataCollatorDemo.tsx`  
**åŠŸèƒ½**:
- åŠ¨æ€ Padding vs å›ºå®š Padding å¯è§†åŒ–å¯¹æ¯”
- Token ç½‘æ ¼æ˜¾ç¤º (ç‰¹æ®Š Token/æ­£å¸¸ Token/Padding Token é¢œè‰²åŒºåˆ†)
- å®æ—¶ç»Ÿè®¡ (Padding é•¿åº¦/æ€» Token æ•°/æµªè´¹ Token/è®¡ç®—èŠ‚çœ)

### 3. TrainingLoopVisualizer
**æ–‡ä»¶**: `/components/interactive/TrainingLoopVisualizer.tsx`  
**åŠŸèƒ½**:
- 7 æ­¥è®­ç»ƒå¾ªç¯åŠ¨ç”» (å‰å‘â†’æŸå¤±â†’åå‘â†’è£å‰ªâ†’ä¼˜åŒ–â†’æ¸…é›¶â†’è°ƒåº¦)
- æ’­æ”¾/æš‚åœ/é‡ç½®æ§åˆ¶
- å®æ—¶æ˜¾ç¤º Epoch/Step/Loss
- ç­‰æ•ˆä»£ç å®æ—¶æ›´æ–° (å·²å®Œæˆæ­¥éª¤æ ‡è®° âœ“)

### 4. TrainingArgumentsExplorer
**æ–‡ä»¶**: `/components/interactive/TrainingArgumentsExplorer.tsx`  
**åŠŸèƒ½**:
- 5 å¤§ç±»å‚æ•°åˆ†ç±» (åŸºç¡€/ä¼˜åŒ–/è¯„ä¼°ä¿å­˜/æ—¥å¿—/åˆ†å¸ƒå¼)
- å¯å±•å¼€å‚æ•°å¡ç‰‡ (æ˜¾ç¤ºé»˜è®¤å€¼ã€ç±»å‹ã€ç¤ºä¾‹ä»£ç )
- å‚æ•°æ€»æ•°ç»Ÿè®¡ (100+ ä¸ª)

### 5. MixedPrecisionComparison
**æ–‡ä»¶**: `/components/interactive/MixedPrecisionComparison.tsx`  
**åŠŸèƒ½**:
- FP32/FP16/BF16 ä¸‰ç§ç²¾åº¦æ¨¡å¼åˆ‡æ¢
- ä¸‰ç»´åº¦å¯¹æ¯” (æ˜¾å­˜å ç”¨/è®­ç»ƒé€Ÿåº¦/æ•°å€¼ç¨³å®šæ€§)
- åŠ¨ç”»è¿›åº¦æ¡ + ç™¾åˆ†æ¯”ç»Ÿè®¡
- é…ç½®ä»£ç å®æ—¶ç”Ÿæˆ

### 6. TrainingStepBreakdown
**æ–‡ä»¶**: `/components/interactive/TrainingStepBreakdown.tsx`  
**åŠŸèƒ½**:
- 4 å¤§æ­¥éª¤è¯¦ç»†åˆ†è§£ (å‰å‘/æŸå¤±/åå‘/ä¼˜åŒ–)
- æ¯æ­¥æ˜¾ç¤ºå­æ­¥éª¤ (æ—¶é—´/æ˜¾å­˜/å æ¯”)
- æ€»ç»Ÿè®¡ (æ€»æ—¶é—´/å³°å€¼æ˜¾å­˜/GPU åˆ©ç”¨ç‡)

### 7. CallbackFlow
**æ–‡ä»¶**: `/components/interactive/CallbackFlow.tsx`  
**åŠŸèƒ½**:
- 3 çº§å›è°ƒäº‹ä»¶åˆ†ç±» (è®­ç»ƒçº§/Epoch çº§/Step çº§)
- æ¯ä¸ªäº‹ä»¶æ˜¾ç¤ºè§¦å‘æ—¶æœº + åº”ç”¨ç¤ºä¾‹
- è‡ªå®šä¹‰ Callback ä»£ç ç”Ÿæˆ

### 8. LearningRateScheduler
**æ–‡ä»¶**: `/components/interactive/LearningRateScheduler.tsx`  
**åŠŸèƒ½**:
- 4 ç§è°ƒåº¦ç­–ç•¥ (Linear/Cosine/Constant/Polynomial)
- å®æ—¶å­¦ä¹ ç‡æ›²çº¿ç»˜åˆ¶ (SVG åŠ¨ç”»)
- Warmup åŒºåŸŸé«˜äº®æ˜¾ç¤º
- å¯è°ƒå‚æ•° (Warmup Steps/Max LR)
- é…ç½®ä»£ç å®æ—¶ç”Ÿæˆ

### 9. TrainingMetricsPlot
**æ–‡ä»¶**: `/components/interactive/TrainingMetricsPlot.tsx`  
**åŠŸèƒ½**:
- 3 ç§æŒ‡æ ‡åˆ‡æ¢ (Loss/Accuracy/Learning Rate)
- åŒæ›²çº¿å¯¹æ¯” (Train Loss vs Eval Loss)
- æœ€ä½³ Epoch æ ‡è®°
- å®æ—¶ç»Ÿè®¡ (æœ€ä½³ Epoch/æœ€ä½ Loss/æœ€é«˜å‡†ç¡®ç‡/æ”¹å–„ç™¾åˆ†æ¯”)

## ğŸ“‚ æ–‡ä»¶æ¸…å•

**æ–°å¢æ–‡ä»¶ (11 ä¸ª)**:
1. `/content/transformers/04-datasets.md` - Chapter 4 å†…å®¹
2. `/content/transformers/05-trainer.md` - Chapter 5 å†…å®¹
3-11. 9 ä¸ªäº¤äº’å¼ç»„ä»¶ (è¯¦è§ä¸Šæ–¹)

**ä¿®æ”¹æ–‡ä»¶ (2 ä¸ª)**:
1. `/components/interactive/index.ts` - æ·»åŠ  9 ä¸ªç»„ä»¶å¯¼å‡º
2. `/components/knowledge/ContentRenderer.tsx` - æ·»åŠ  9 ä¸ªç»„ä»¶ import å’Œæ³¨å†Œ

## âœ… è´¨é‡æ£€æŸ¥æ¸…å•

- [x] æ‰€æœ‰ä»£ç ç¤ºä¾‹åŒ…å«å®Œæ•´ import è¯­å¥
- [x] æ‰€æœ‰ä»£ç ç¤ºä¾‹æ³¨æ˜é¢„æœŸè¾“å‡ºæˆ–æ‰§è¡Œç»“æœ
- [x] å¤æ‚æ¦‚å¿µä½¿ç”¨äº¤äº’å¼ç»„ä»¶è®²è§£
- [x] æ¯ç« åŒ…å«ç»ƒä¹ é¢˜å’Œæ€è€ƒé¢˜
- [x] æ‰€æœ‰ API ä¸å®˜æ–¹æ–‡æ¡£ (v4.40+) ä¸€è‡´
- [x] ä»£ç é£æ ¼ç»Ÿä¸€ (æ¨èç°ä»£å†™æ³•)
- [x] ç»„ä»¶ä½¿ç”¨ Framer Motion åŠ¨ç”»
- [x] ç»„ä»¶æ”¯æŒ Dark Mode
- [x] ç»„ä»¶å“åº”å¼å¸ƒå±€ (mobile/tablet/desktop)
- [x] æ‰€æœ‰ç»„ä»¶å·²å¯¼å‡ºå’Œæ³¨å†Œ

## ğŸ¯ æŠ€æœ¯äº®ç‚¹

### Chapter 4
1. **å†…å­˜æ˜ å°„è¯¦è§£**: å¯¹æ¯”ä¼ ç»Ÿ Pandas æ–¹å¼ï¼Œå±•ç¤º Datasets åº“çš„å†…å­˜æ•ˆç‡
2. **æ‰¹é‡å¤„ç†ä¼˜åŒ–**: map() æ‰¹é‡å¤„ç† vs é€æ¡å¤„ç†æ€§èƒ½å¯¹æ¯” (15x åŠ é€Ÿ)
3. **DataCollator å®æˆ˜**: 3 ç§ DataCollator è¯¦ç»†å¯¹æ¯” + è‡ªå®šä¹‰å®ç°
4. **æµå¼æ•°æ®å¤„ç†**: IterableDataset å¤„ç† TB çº§æ•°æ®é›†çš„å®æˆ˜æŠ€å·§
5. **åŠ¨æ€ Padding**: è®¡ç®—èŠ‚çœå¯¹æ¯” (å›ºå®š padding æµªè´¹ 88% è®¡ç®—)

### Chapter 5
1. **Trainer æ¶æ„å›¾**: æ¸…æ™°å±•ç¤º Trainer æ ¸å¿ƒç»„ä»¶å…³ç³»
2. **è®­ç»ƒå¾ªç¯å‰–æ**: 7 æ­¥è¯¦ç»†åˆ†è§£ + æ—¶é—´/æ˜¾å­˜ç»Ÿè®¡
3. **100+ å‚æ•°è¯¦è§£**: TrainingArguments 5 å¤§ç±»å‚æ•°åˆ†ç±»æµè§ˆ
4. **æ··åˆç²¾åº¦å¯¹æ¯”**: FP32/FP16/BF16 ä¸‰ç»´åº¦æ€§èƒ½åˆ†æ
5. **å›è°ƒå‡½æ•°ç³»ç»Ÿ**: å®Œæ•´ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ + è‡ªå®šä¹‰å®ç°
6. **å­¦ä¹ ç‡è°ƒåº¦**: 4 ç§ç­–ç•¥æ›²çº¿å¯è§†åŒ– + å®æ—¶å‚æ•°è°ƒæ•´
7. **é«˜çº§ä¼˜åŒ–æŠ€å·§**: æ¢¯åº¦ç´¯ç§¯ã€æ¢¯åº¦æ£€æŸ¥ç‚¹ã€8-bit/4-bit è®­ç»ƒå®æˆ˜
8. **å®Œæ•´æ¡ˆä¾‹**: IMDB æƒ…æ„Ÿåˆ†ç±»ç«¯åˆ°ç«¯æµç¨‹

## ğŸ“ˆ è¿›åº¦æ±‡æ€»

**å·²å®Œæˆ**:
- âœ… Chapter 0: ç”Ÿæ€ä»‹ç» (6,000 å­— + 5 ç»„ä»¶)
- âœ… Chapter 1: Pipeline API (8,000 å­— + 9 ç»„ä»¶)
- âœ… Chapter 2: Tokenization (9,000 å­— + 3 ç»„ä»¶)
- âœ… Chapter 3: Model Architecture (10,000 å­— + 3 ç»„ä»¶)
- âœ… Chapter 4: Datasets åº“ (18,000 å­— + 2 ç»„ä»¶)
- âœ… Chapter 5: Trainer API (20,000 å­— + 7 ç»„ä»¶)

**æ€»è®¡**:
- **å†…å®¹å­—æ•°**: ~71,000 å­—
- **ä»£ç ç¤ºä¾‹**: 300+ ä¸ª
- **äº¤äº’å¼ç»„ä»¶**: 29 ä¸ª
- **è¦†ç›–ç« èŠ‚**: 6 / 28 ç«  (Part I åŸºç¡€éƒ¨åˆ†å®Œæˆ 100%)

**å¾…å®Œæˆ**:
- Chapter 6-28 (22 ç« )
- é¢„è®¡æ€»å­—æ•°: ~200,000 å­—
- é¢„è®¡æ€»ç»„ä»¶: ~70 ä¸ª

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

**Chapter 6: PEFT (å‚æ•°é«˜æ•ˆå¾®è°ƒ)** å»ºè®®åŒ…å«:
1. LoRA åŸç†ä¸å®ç° (çŸ©é˜µåˆ†è§£å¯è§†åŒ–)
2. QLoRA (4-bit é‡åŒ– + LoRA)
3. Adapterã€Prefix Tuningã€Prompt Tuning å¯¹æ¯”
4. PEFT åº“é›†æˆ (peft.get_peft_model)
5. å¤š Adapter ç®¡ç†ä¸åˆå¹¶

**å»ºè®®äº¤äº’å¼ç»„ä»¶**:
- LoRAVisualizer - LoRA çŸ©é˜µæ³¨å…¥ä¸åˆå¹¶åŠ¨ç”»
- PEFTComparison - ä¸åŒ PEFT æ–¹æ³•å¯¹æ¯” (å‚æ•°é‡/æ˜¾å­˜/æ€§èƒ½)
- AdapterArchitecture - Adapter æ’å…¥ä½ç½®å¯è§†åŒ–
- MergeWeightsDemo - LoRA æƒé‡åˆå¹¶è¿‡ç¨‹

## ğŸ’¡ ç»éªŒæ€»ç»“

1. **å†…å®¹æ·±åº¦**: æ¯ç« ä¿æŒ 15,000-20,000 å­—æ·±åº¦è®²è§£ï¼Œç¡®ä¿åˆå­¦è€…èƒ½ç†è§£åº•å±‚åŸç†
2. **ä»£ç ä¼˜å…ˆ**: æ¯ä¸ªæ¦‚å¿µè‡³å°‘é… 3-5 ä¸ªä»£ç ç¤ºä¾‹ï¼Œæ¶µç›–åŸºç¡€åˆ°é«˜çº§ç”¨æ³•
3. **å¯è§†åŒ–å…³é”®**: å¤æ‚æ¦‚å¿µ (å¦‚ Padding ç­–ç•¥ã€è®­ç»ƒå¾ªç¯ã€å­¦ä¹ ç‡è°ƒåº¦) å¿…é¡»ç”¨äº¤äº’å¼ç»„ä»¶
4. **å®æˆ˜å¯¼å‘**: æ¯ç« åŒ…å«å®Œæ•´å®æˆ˜æ¡ˆä¾‹ (ç«¯åˆ°ç«¯æµç¨‹)
5. **æ€§èƒ½å¯¹æ¯”**: æä¾›é‡åŒ–æ•°æ® (é€Ÿåº¦/æ˜¾å­˜/å‡†ç¡®ç‡) å¯¹æ¯”ä¸åŒæ–¹æ³•

---

**ç”Ÿæˆæ—¶é—´**: 2026-01-22  
**çŠ¶æ€**: âœ… Chapter 4-5 å®Œæˆï¼Œæ‰€æœ‰ç»„ä»¶æµ‹è¯•é€šè¿‡
